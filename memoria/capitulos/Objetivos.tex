\chapter{Objetivos}
\label{cap:capitulo2}

En esta sección del documento se describe el problema a resolver, marcando los los objetivos y requisitos pautados en el desarrollo del \ac{TFG}.

\section{Descripción del problema}
\label{sec:descripcion}

El objetivo principal de este \ac{TFG} es desarrollar un sistema de navegación autónoma que pueda desenvolverse de manera eficiente en entornos urbanos. Para ello, se emplearán técnicas de \ac{DRL} junto con diferentes enfoques de \ac{DL} para la percepción del entorno, con el propósito de garantizar un comportamiento robusto, seguro y eficiente. El proyecto se centra en lograr una conducción suave y estable durante todo el recorrido, abordando tres subtareas principales: el seguimiento del carril para mantener la trayectoria correcta, el mantenimiento de una velocidad de crucero ajustada al vehículo delantero y la ejecución del adelantamiento.

A continuación, se definen los siguientes sub-objetivos: 

\begin{enumerate}
    \item Desarrollo de un comportamiento de seguimiento de carril basado en algoritmos de \ac{DRL}, orientado a lograr una navegación autónoma y eficiente.
    \item Ampliación del comportamiento de seguimiento de carril para incorporar una respuesta adaptativa al tráfico, específicamente mediante el mantenimiento de una velocidad de crucero ajustada al vehículo que circula delante del propio coche.
    \item Desarrollo de un modelo basado en \ac{DRL} capaz de ejecutar maniobras de adelantamiento, incluyendo el cambio de carril y el retorno seguro al carril original
    \item Análisis y comparación de los diferentes comportamientos desarrollados en el proyecto para validar su correcto funcionamiento.
\end{enumerate}

\section{Requisitos}
\label{sec:requisitos}

Los requisitos que han de cumplirse en este trabajo son: 
\begin{enumerate}
    \item Uso del entorno de simulación CARLA \footnote{\url{https://carla.org/}}, que posibilita la creación de escenarios realistas, la emulación de diversos comportamientos de vehículos y la prueba de modelos. Al ser un simulador ampliamente reconocido en el ámbito de la conducción autónoma, garantiza la reutilización del proyecto en aplicaciones futuras relacionadas con la movilidad y la navegación autónoma.
    \item Lograr un comportamiento de seguimiento de carril estable y sin oscilaciones, alcanzando velocidades superiores a los 70 km/h.
    \item Mantener el control de crucero asegurando una distancia de seguridad adecuada respecto al vehículo delantero, de acuerdo con las normas de la \ac{DGT} \footnote{\url{https://www.dgt.es/export/sites/web-DGT/.galleries/downloads/conoce-el-estado-del-trafico/operaciones-especiales/4_O.-E.-Primero-de-Mayo-2023_Consejos-y-normas-de-Seguridad-Vial_V-I.pdf}}.
   \item Durante los adelantamientos, el modelo debe ser capaz de evaluar los riesgos en el carril contrario, determinar si existe un carril disponible al que trasladarse y verificar que dicho carril esté libre de obstáculos o vehículos.
    \item Comportamiento robusto y reactivo en tiempo real, asegurando una navegación segura y eficiente del vehículo en diferentes escenarios.
    \item Uso de algotitmos de \ac{DRL} para tomar decisiones autónomas en situaciones complejas, dado que no se dispone de \textit{datasets} predefinidos que cubran todos los posibles escenarios.
\end{enumerate}

\section{Metodología}
\label{sec:metodologia}

Este TFG comenzó en febrero de 2024 y finalizó en marzo de 2025. La metodología de trabajo fue la siguiente:

\begin{itemize}
       \item Se siguió la metodología tradicional \textit{Scrum} \footnote{\url{https://www.nimblework.com/agile/scrum-methodology/}}, la cual se utiliza para la gestión de proyectos organizando el trabajo en ciclos cortos llamados s\textit{prints}. Esta metodología fomenta una organización eficiente al dividir el trabajo en tareas pequeñas y manejables y promueve la iteración y mejora continua al revisar y ajustar el trabajo regularmente.
    \item Reuniones semanales a través de \textit{Teams} \footnote{\url{https://www.microsoft.com/es-es/microsoft-teams/log-in}}, con una duración de entre 30 y 60 minutos, para hacer un seguimiento de los problemas que hubieran podido surgir durante la semana y definir los nuevos objetivos a cumplir.
    \item Contacto mediante el email de la universidad con el fin de solventar problemas urgentes e intercambiar contenido de avances significativos conseguidos.
    \item Uso de un repositorio en \textit{GitHub}  \footnote{\url{https://github.com/}} para gestionar el control de versiones del código fuente, modelos y los datos más relevantes generados durante el desarrollo del proyecto.
    \item Mantenimiento de un \textit{blog} \footnote{\url{https://roboticslaburjc.github.io/2024-tfg-lara-poves/}} con el propósito de documentar problemas, avances e investigaciones realizadas durante la implementación del proyecto, asegurando un registro claro del progreso y soluciones de los desafíos superados.

	\begin{figure}[ht]
	  \begin{center}
	    \includegraphics[width=7cm]{figs/objetivos/github.png}
	  \end{center}
	  \caption{Seguimiento de trabajo en GitHub.}
	  \label{github}
	\end{figure}

\end{itemize}

\section{Plan de trabajo}
\label{sec:plantrabajo}

Finalmente, los pasos a seguir de este trabajo han sido:

\begin{enumerate}
    \item Comienzo del trabajo:
	\begin{itemize}
		\item Desde el inicio, el tema del proyecto estuvo claro, centrado en la conducción autónoma en el simulador CARLA. El objetivo final sería lograr un comportamiento de adelantamiento mediante aprendizaje por refuerzo.
		\item Se gestionó el acceso al servidor donde se desarrollaría el proyecto, el cual ya contaba con el simulador instalado.	
		\item Se creó un entorno \textit{Conda} \footnote{\url{https://anaconda.org/}} y se procedió a la instalación de las librerías necesarias para el desarrollo.
	\end{itemize}

    \item Desarrollo del proyecto:
	\begin{itemize}
		\item Se desarrolló un teleoperador sencillo para explorar las diversas funcionalidades y configuraciones que ofrece el simulador CARLA.
		\item Se implementó el manejo de sensores como el \ac{LiDAR} y la cámara, los cuales se utilizarían posteriormente para lograr comportamientos específicos en el sistema autónomo. Además, se integraron redes neuronales para la detección de carriles y la segmentación semántica. Para la identificación del carril, se incluyó una nueva forma de deteccion basada en  \textit{ground truth} en CARLA.	
		\item Se configuró el autopiloto de CARLA, explorando las distintas opciones de configuración disponibles.
		\item Se desarrolló un sistema de seguimiento de carriles basado en un controlador \ac{PID}.
		\item En una primera etapa, se entrenó un modelo utilizando \ac{DQN} para que fuera capaz de seguir el carril. Posteriormente, se entrenó un nuevo modelo utilizando \ac{PPO} para mejorar el desempeño.
		\item Se realizó un reentrenamiento del último modelo para que pudiera mantener una velocidad de crucero utilizando la información proporcionada por el \ac{LiDAR} sobre el coche delantero.
		\item Finalmente, se reentrenó el modelo para extender el comportamiento y permitir la realización de adelantamientos en un entorno controlado.
	\end{itemize}

    \item Evaluación: Se compararon y analizaron los resultados obtenidos durante las diferentes fases y entrenamientos del proyecto.
    \item Se redactó la memoria del trabajo, documentando todo el proceso de investigación realizado.
\end{enumerate}

